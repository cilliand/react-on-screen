!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("prop-types"),require("react"),require("lodash.throttle"),require("shallowequal")):"function"==typeof define&&define.amd?define(["prop-types","react","lodash.throttle","shallowequal"],t):"object"==typeof exports?exports.ReactOnScreen=t(require("prop-types"),require("react"),require("lodash.throttle"),require("shallowequal")):e.ReactOnScreen=t(e["prop-types"],e.react,e["lodash.throttle"],e.shallowequal)}(window,function(e,t,o,n){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=4)}([function(t,o){t.exports=e},function(e,o){e.exports=t},function(e,t){e.exports=o},function(e,t){e.exports=n},function(e,t,o){"use strict";o.r(t);var n=o(1),r=o.n(n),i=o(0),s=o.n(i),l=o(2),u=o.n(l),p=o(3),c=o.n(p);function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}var d=function(e){var t,o;function n(t){var o;return(o=e.call(this,t)||this).isFocused=function(){return!o.props.withFocus||document.hasFocus()},o.isVisible=function(e,t,n){var r=e.top,i=e.left,s=e.bottom,l=e.right,u=e.width,p=e.height,c=o.props,a=c.offset,d=c.partialVisibility;if(r+l+s+i===0)return!1;var h=0-a,f=0-a,b=t+a,y=n+a;return d?r+p>=h&&i+u>=f&&s-p<=y&&l-u<=b:r>=h&&i>=f&&s<=y&&l<=b},o.isComponentVisible=function(){setTimeout(function(){if(o.nodeRef&&o.nodeRef.getBoundingClientRect){var e=document.documentElement,t=o.props.once,n=o.nodeRef.getBoundingClientRect(),r=window.innerWidth||e.clientWidth,i=window.innerHeight||e.clientHeight,s=o.isVisible(n,r,i)&&o.isFocused();s&&t&&o.removeListener(),o.setState({isVisible:s})}},0)},o.setNodeRef=function(e){return o.nodeRef=e},o.ownProps=Object.keys(n.propTypes),o.state={isVisible:!1},o.throttleCb=u()(o.isComponentVisible,o.props.throttleInterval),o.throttleCbFocus=function(){console.log("From focus"),o.isComponentVisible()},o.withFocus=!1,t.nodeRef&&o.setNodeRef(t.nodeRef),o}o=e,(t=n).prototype=Object.create(o.prototype),t.prototype.constructor=t,t.__proto__=o;var i=n.prototype;return i.componentDidMount=function(){this.attachListener(),this.isComponentVisible()},i.componentDidUpdate=function(e){c()(this.getChildProps(this.props),this.getChildProps(e))||this.isComponentVisible()},i.componentWillUnmount=function(){this.removeListener()},i.attachListener=function(){this.props.body?document.getElementById(this.props.body).addEventListener("scroll",this.throttleCb):window.addEventListener("scroll",this.throttleCb),this.props.body?document.getElementById(this.props.body).addEventListener("resize",this.throttleCb):window.addEventListener("resize",this.throttleCb),window.addEventListener("focus",this.throttleCb)},i.removeListener=function(){this.props.body?document.getElementById(this.props.body).removeEventListener("scroll",this.throttleCb):window.removeEventListener("scroll",this.throttleCb),this.props.body?document.getElementById(this.props.body).removeEventListener("resize",this.throttleCb):window.removeEventListener("resize",this.throttleCb),document.addEventListener("focus",this.throttleCb)},i.getChildProps=function(e){var t=this;void 0===e&&(e=this.props);var o={};return Object.keys(e).forEach(function(n){-1===t.ownProps.indexOf(n)&&(o[n]=e[n])}),o},i.getChildren=function(){var e=this;return"function"==typeof this.props.children?this.props.children(a({},this.getChildProps(),{isVisible:this.state.isVisible})):r.a.Children.map(this.props.children,function(t){return r.a.cloneElement(t,a({},e.getChildProps(),{isVisible:e.state.isVisible}))})},i.render=function(){var e=this.props,t=e.className,o=e.style,n=e.nodeRef,i=e.tag,s=a({},t&&{className:t},{},o&&{style:o});return r.a.createElement(i,a({ref:!n&&this.setNodeRef},s),this.getChildren())},n}(n.PureComponent);d.propTypes={once:s.a.bool,throttleInterval:function(e,t,o){var n=e[t];return!Number.isInteger(n)||n<0?new Error("The "+t+" prop you provided to "+o+" is not a valid integer >= 0."):null},children:s.a.oneOfType([s.a.func,s.a.element,s.a.arrayOf(s.a.element)]),style:s.a.object,className:s.a.string,offset:s.a.number,partialVisibility:s.a.bool,nodeRef:s.a.object,tag:s.a.string,body:s.a.string,withFocus:s.a.bool},d.defaultProps={once:!1,throttleInterval:150,offset:0,partialVisibility:!1,tag:"div"};t.default=d}])});
//# sourceMappingURL=ReactOnScreen.js.map